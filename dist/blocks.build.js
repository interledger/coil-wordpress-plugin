!function(e){function t(l){if(i[l])return i[l].exports;var n=i[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,l){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:l})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(i(1),i(5));i.n(l)},function(e,t,i){"use strict";function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(e){return"undefined"!==typeof e.attributes&&(e.attributes=Object.assign(e.attributes,{monetizeBlockDisplay:{type:"string",default:"always-show"}})),e}function o(e,t,i){var l=i.monetizeBlockDisplay;return"undefined"!==typeof l&&"always-show"!==l&&(e.className=r()(e.className,"coil-"+l)),e}var a=i(2),r=i.n(a),s=i(3),c=(i.n(s),i(4)),u=(i.n(c),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e}),__=wp.i18n.__,m=wp.hooks.addFilter,p=wp.element.Fragment,d=wp.blockEditor||wp.editor,f=d.InspectorControls,b=wp.data,C=b.withSelect,w=b.withDispatch,v=wp.compose.createHigherOrderComponent,y=wp.components,g=y.PanelBody,h=y.RadioControl,E=y.SelectControl,_=wp.plugins.registerPlugin,z=wp.editPost.PluginDocumentSettingPanel,M=v(function(e){return function(t){var i=!1,l=t.attributes,n=t.setAttributes,o=t.isSelected,a=l.monetizeBlockDisplay,r=wp.data.select("core/editor").getEditedPostAttribute("meta");return i=!1,"undefined"!==typeof r&&("undefined"!==typeof r._coil_visibility_post_status&&"gate-tagged-blocks"!==r._coil_visibility_post_status||(i=!0)),wp.element.createElement(p,null,wp.element.createElement(e,t),o&&i&&wp.element.createElement(f,null,wp.element.createElement(g,{title:__("Coil Web Monetization"),initialOpen:!1,className:"coil-panel"},wp.element.createElement(h,{label:__("Set the block's visibility.","coil-web-monetization"),selected:a,options:[{label:__("Always Show"),value:"always-show"},{label:__("Only Show Coil Members"),value:"show-monetize-users"},{label:__("Hide For Coil Members"),value:"hide-monetize-users"}],onChange:function(e){return n({monetizeBlockDisplay:e})}}))))}},"monetizeBlockControls"),k=v(function(e){return function(t){var i=t.wrapperProps,l={},n=!1,o=t.attributes,a=o.monetizeBlockDisplay,r=wp.data.select("core/editor").getEditedPostAttribute("meta");return n=!r||"undefined"===typeof r._coil_visibility_post_status||"gate-tagged-blocks"===r._coil_visibility_post_status,l=Object.assign(l,{"data-coil-is-monetized":1}),i=Object.assign({},i,l),"undefined"!==typeof a&&"always-show"!==a&&n?wp.element.createElement(e,u({},t,{className:"coil-"+a,wrapperProps:i})):wp.element.createElement(e,t)}},"wrapperClass");m("blocks.registerBlockType","coil/addAttributes",n),m("editor.BlockEdit","coil/monetizeBlockControls",M),m("blocks.getSaveContent.extraProps","coil/applyExtraClass",o),m("editor.BlockListBlock","coil/wrapperClass",k);var N=w(function(e,t){return{updateVisibilityMetaValue:function(i){e("core/editor").editPost({meta:l({},t.visibilityMetaFieldName,i)})},updateMetaValues:function(i){var n,o="public";"default"===i?o="default":"monetized"===i&&(o=coilEditorParams.visibilityDefault),e("core/editor").editPost({meta:(n={},l(n,t.monetizationMetaFieldName,i),l(n,t.visibilityMetaFieldName,o),n)})}}})(C(function(e,t){var i,n=e("core/editor").getEditedPostAttribute("meta"),o=__("Enabled & Public");return"not-monetized"===coilEditorParams.monetizationDefault?o=__("Disabled"):"exclusive"===coilEditorParams.visibilityDefault&&(o=__("Enabled & Exclusive")),i={},l(i,t.monetizationMetaFieldName,n&&n._coil_monetization_post_status),l(i,t.visibilityMetaFieldName,n&&n._coil_visibility_post_status),l(i,"defaultLabel",o),i})(function(e){return wp.element.createElement("div",null,wp.element.createElement("div",null,wp.element.createElement(E,{label:__("Select a monetization status","coil-web-monetization"),value:e[e.monetizationMetaFieldName]?e[e.monetizationMetaFieldName]:"default",onChange:function(t){return e.updateMetaValues(t)},options:[{value:"default",label:"Default ("+e.defaultLabel+")"},{value:"monetized",label:"Enabled"},{value:"not-monetized",label:"Disabled"}]})),wp.element.createElement("div",{className:"coil-post-monetization-level "+(e[e.monetizationMetaFieldName]?e[e.monetizationMetaFieldName]:"default")},wp.element.createElement(h,{label:__("Who can access this content?","coil-web-monetization"),selected:e[e.visibilityMetaFieldName]&&"default"!==e[e.visibilityMetaFieldName]?e[e.visibilityMetaFieldName]:coilEditorParams.visibilityDefault,options:[{label:__("Everyone","coil-web-monetization"),value:"public"},{label:__("Coil Members Only","coil-web-monetization"),value:"exclusive"},{label:__("Split","coil-web-monetization"),value:"gate-tagged-blocks"}],onChange:function(t){return e.updateVisibilityMetaValue(t)}})))}));z&&_("coil-document-setting-panel",{render:function(){return wp.element.createElement(z,{name:"coil-meta",title:__("Coil Web Monetization","coil-web-monetization"),initialOpen:!1,className:"coil-document-panel"},wp.element.createElement(N,{monetizationMetaFieldName:"_coil_monetization_post_status",visibilityMetaFieldName:"_coil_visibility_post_status"}))},icon:""})},function(e,t,i){var l,n;!function(){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++){var l=arguments[t];if(l){var n=typeof l;if("string"===n||"number"===n)e.push(l);else if(Array.isArray(l)){if(l.length){var a=i.apply(null,l);a&&e.push(a)}}else if("object"===n)if(l.toString===Object.prototype.toString)for(var r in l)o.call(l,r)&&l[r]&&e.push(r);else e.push(l.toString())}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?(i.default=i,e.exports=i):(l=[],void 0!==(n=function(){return i}.apply(t,l))&&(e.exports=n))}()},function(e,t){},function(e,t){},function(e,t){var i=window.wp.blocks.registerBlockType,l=wp.blockEditor.useBlockProps,__=window.wp.i18n.__;i("coil/read-more",{title:__("Coil Read More"),category:"common",icon:{background:"#7e70af",foreground:"#fff",src:wp.element.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{d:"M0 6.66667C0 2.98477 2.98477 0 6.66667 0H25.3333C29.0152 0 32 2.98477 32 6.66667V25.3333C32 29.0152 29.0152 32 25.3333 32H6.66667C2.98477 32 0 29.0152 0 25.3333V6.66667Z",fill:"#2D333A"}),wp.element.createElement("path",{d:"M21.0116 19.7656C21.4391 19.7656 21.9967 19.9825 22.3871 20.9042C22.4428 21.0307 22.48 21.1753 22.48 21.3018C22.48 22.8199 18.9297 24.1935 16.8664 24.3019C16.7177 24.3019 16.5504 24.32 16.4017 24.32C13.3347 24.32 10.4908 22.7296 9.02234 20.1632C8.33458 18.9523 8 17.6149 8 16.2594C8 14.687 8.4647 13.1147 9.37551 11.7592C10.0818 10.6748 11.4574 9.24704 13.8738 8.4699C14.4872 8.2711 15.5653 8 16.7921 8C17.9817 8 19.3015 8.25302 20.4539 9.10246C22.0711 10.2772 22.4056 11.5604 22.4056 12.3918C22.4056 12.7532 22.3499 13.0243 22.2941 13.187C21.9224 14.5063 20.677 15.5184 19.2271 15.7172C18.8925 15.7534 18.6137 15.7895 18.3535 15.7895C17.0337 15.7895 16.5876 15.2473 16.5876 14.6328C16.5876 13.8015 17.3869 12.8255 17.9631 12.8255C18.0375 12.8255 18.1118 12.8436 18.1676 12.8797C18.3163 12.9701 18.5022 13.0062 18.6695 13.0062C18.7252 13.0062 18.7624 13.0062 18.8182 12.9882C19.2829 12.934 19.5245 12.6267 19.5245 12.2472C19.5245 11.5423 18.6695 10.5845 16.8107 10.5845C16.2159 10.5845 15.5281 10.6748 14.7474 10.9098C13.1117 11.3977 12.2009 12.5363 11.7362 13.2412C11.1228 14.1448 10.8254 15.1931 10.8254 16.2233C10.8254 17.1088 11.0484 17.9944 11.4945 18.7896C12.4611 20.4704 14.3571 21.5187 16.4017 21.5187C16.5133 21.5187 16.6062 21.5187 16.7177 21.5187C19.3758 21.3741 19.9892 20.0728 20.584 19.8198C20.677 19.8017 20.8443 19.7656 21.0116 19.7656Z",fill:"#fff"}))},supports:{html:!1,multiple:!1},keywords:[__("Monetize"),__("Restrict"),__("Read"),__("More")],attributes:{exampleContent:{type:"array",source:"children",selector:"div.coil-read-more"}},edit:function(e){l({className:"coil-read-more"});return wp.element.createElement("div",{className:e.className},wp.element.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{d:"M0 6.66667C0 2.98477 2.98477 0 6.66667 0H25.3333C29.0152 0 32 2.98477 32 6.66667V25.3333C32 29.0152 29.0152 32 25.3333 32H6.66667C2.98477 32 0 29.0152 0 25.3333V6.66667Z",fill:"#2D333A"}),wp.element.createElement("path",{d:"M21.0116 19.7656C21.4391 19.7656 21.9967 19.9825 22.3871 20.9042C22.4428 21.0307 22.48 21.1753 22.48 21.3018C22.48 22.8199 18.9297 24.1935 16.8664 24.3019C16.7177 24.3019 16.5504 24.32 16.4017 24.32C13.3347 24.32 10.4908 22.7296 9.02234 20.1632C8.33458 18.9523 8 17.6149 8 16.2594C8 14.687 8.4647 13.1147 9.37551 11.7592C10.0818 10.6748 11.4574 9.24704 13.8738 8.4699C14.4872 8.2711 15.5653 8 16.7921 8C17.9817 8 19.3015 8.25302 20.4539 9.10246C22.0711 10.2772 22.4056 11.5604 22.4056 12.3918C22.4056 12.7532 22.3499 13.0243 22.2941 13.187C21.9224 14.5063 20.677 15.5184 19.2271 15.7172C18.8925 15.7534 18.6137 15.7895 18.3535 15.7895C17.0337 15.7895 16.5876 15.2473 16.5876 14.6328C16.5876 13.8015 17.3869 12.8255 17.9631 12.8255C18.0375 12.8255 18.1118 12.8436 18.1676 12.8797C18.3163 12.9701 18.5022 13.0062 18.6695 13.0062C18.7252 13.0062 18.7624 13.0062 18.8182 12.9882C19.2829 12.934 19.5245 12.6267 19.5245 12.2472C19.5245 11.5423 18.6695 10.5845 16.8107 10.5845C16.2159 10.5845 15.5281 10.6748 14.7474 10.9098C13.1117 11.3977 12.2009 12.5363 11.7362 13.2412C11.1228 14.1448 10.8254 15.1931 10.8254 16.2233C10.8254 17.1088 11.0484 17.9944 11.4945 18.7896C12.4611 20.4704 14.3571 21.5187 16.4017 21.5187C16.5133 21.5187 16.6062 21.5187 16.7177 21.5187C19.3758 21.3741 19.9892 20.0728 20.584 19.8198C20.677 19.8017 20.8443 19.7656 21.0116 19.7656Z",fill:"#fff"})),wp.element.createElement("h4",null,"Coil Read More"),wp.element.createElement("p",null,"All blocks beneath this will be only visible by Coil Members"),wp.element.createElement("a",{href:"#more"},"Learn More"))},save:function(e){l.save({className:"coil-read-more"});return wp.element.createElement("div",{className:e.className},"coil-read-more!!")}})}]);