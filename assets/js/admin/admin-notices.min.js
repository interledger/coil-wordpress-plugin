/*! Coil Web Monetization for WordPress v1.9.0 Tuesday 3rd May 2022 15:19:54 PM GMT+0200 */
!function(a){if("undefined"!=typeof coilAdminParams&&coilAdminParams.ajax_url){const g=coilAdminParams.site_logo_url,m=coilAdminParams.coil_logo_url.light,_=coilAdminParams.coil_logo_url.dark,u=coilAdminParams.coil_streaming_logo_url.light,d=coilAdminParams.coil_streaming_logo_url.dark,p=coilAdminParams.not_monetized_post_types,v=coilAdminParams.exclusive_post_types,h=coilAdminParams.general_modal_msg,w=coilAdminParams.exclusive_modal_msg,f=coilAdminParams.invalid_payment_pointer_msg,x=coilAdminParams.invalid_blank_input_msg,y=coilAdminParams.invalid_url_msg,b=coilAdminParams.invalid_margin_value_msg,k=coilAdminParams.streaming_widget_position,A=a(".nav-tab-wrapper a.nav-tab-active").attr("id"),P="#EE4852",$=a("form").serialize();let l=!1;var t,i;if("coil-welcome-settings"===A&&(0===a(".coil-welcome-notice").length?a(".tab-styling .button-primary").show():a(".tab-styling .button-primary").hide()),"coil-general-settings"===A){const C=a(".coil-no-payment-pointer-notice");0<C.length&&(C.hide(),0<a("#setting-error-settings_updated").length&&C.show())}if("coil-exclusive-settings"===A&&(t=a('input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]').is(":checked"),i="site_logo"===a("#coil_branding option:selected").val(),t?a("*.exclusive-content-section").show():a("*.exclusive-content-section").hide(),i?a(".set-site-logo-description").show():a(".set-site-logo-description").hide()),"streaming-widget-settings"===A){const z=a('input[name="streaming_widget_settings_group[streaming_widget_toggle]"]').is(":checked"),T=a("#streaming_widget_text"),E=a("#members_streaming_widget_text"),j=/^\s+$/,D=k.split("-");z?a("*.streaming-widget-section").show():a("*.streaming-widget-section").hide(),j.test(T.val())&&a("div.coil-preview.coil-non-members .streaming-widget div > div").hide(),j.test(E.val())&&a("div.coil-preview.coil-members .streaming-widget div > div").hide(),a(".margin-"+D[0]).show(),a(".margin-"+D[1]).show()}function e(t,i,e,n){let o="";i.forEach(t=>{document.getElementById(t+e).checked&&(o+=t+"s, ")}),0<o.length&&(o=o.slice(0,-2),o=o.replace(/,([^,]*)$/," and$1"),n=n.replace("{postTypes}",o),confirm(n)||"boolean"==typeof t.cancelable&&!t.cancelable||(t.preventDefault(),l=!1))}function n(i,t,e){const n=i.next(),o=a(document).scrollTop();let l=null;if(null!==n&&n.hasClass("invalid-input")&&(l=n),t)null!==l&&(i.removeAttr("style"),l.remove());else if(i.css("border-color",P),null===l){i.after('<p class="invalid-input" style="color: '+P+'">'+e+"</p>");i=i.prev().position();let t;t=void 0!==i?i.top:0,o>t?a("html, body").animate({scrollTop:t+"px"}):a("html, body").animate({scrollTop:"0px"})}}function o(i){const t=i.next().next(),e=a(document).scrollTop();var n=/(^(-)?[0-9]+((p)|(px)|(P)|(PX))?$)/.test(i.val())||""===i.val();let o=null;if(null!==t&&t.hasClass("invalid-input")&&(o=t),n)null!==o&&(i.removeAttr("style"),o.remove());else if(i.css("border-color",P),null===o){null!==i.next()&&i.next().after('<p class="invalid-input" style="color: '+P+'">'+b+"</p>");let t;null!==a(".coil-margin-input-group")&&null!==a(".coil-margin-input-group").prev()?void 0!==(i=a(".coil-margin-input-group").prev().position())&&(t=i.top):t=0,e>t?a("html, body").animate({scrollTop:t+"px"}):a("html, body").animate({scrollTop:"0px"})}}function s(t,i,e,n){const o=t.next();let l=null;null!==o&&o.hasClass("invalid-input")&&(l=o),null!==l&&i?(t.removeAttr("style"),l.remove()):e&&/^\s+$/.test(t.val())&&null===l&&(t.css("border-color",P),t.after('<p class="invalid-input" style="color: '+P+'">'+n+"</p>"))}function c(t){const i=t.next().next(),e=/^\s+$/,n=!e.test(t.val()),o=/(^(-)?[0-9]+((p)|(px)|(P)|(PX))?$)/.test(t.val())||""===t.val();let l=null;void 0!==i&&null!==i&&i.hasClass("invalid-input")&&(l=i),null!==l?(n&&l.text()===x||o&&l.text()===b)&&(t.removeAttr("style"),l.remove()):e.test(t.val())&&null===l&&null!==t.next()&&(t.css("border-color",P),t.next().after('<p class="invalid-input" style="color: '+P+'">'+x+"</p>"))}function r(t){return/.+\..+/.test(t)}window.addEventListener("beforeunload",function(t){l||$===a("form").serialize()?delete t.returnValue:(t.preventDefault(),t.returnValue="")}),a(document).on("submit","form",function(){l=!0,"coil-exclusive-settings"===A?e(event,p,"_visibility_exclusive",w):"coil-general-settings"===A&&e(event,v,"_monetization_not-monetized",h)}),a(document).on("focusout","#coil_payment_pointer",function(){n(a("#coil_payment_pointer"),/^(https:\/\/.)|^[\$]./.test(a(this).val())||0===a(this).val().length,f)}),a(document).on("input","#coil_payment_pointer",function(){s(a("#coil_payment_pointer"),/^(https:\/\/.)|^[\$]./.test(a(this).val()),!1,"")}),a(document).on("change",'input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]',function(){a(".exclusive-content-section").toggle()}),a(document).on("input","#coil_paywall_title",function(){""!==a(this).val()?a(".coil-paywall-heading").text(a(this).val()):a(".coil-paywall-heading").text(a(this).attr("placeholder"))}),a(document).on("input","#coil_paywall_message",function(){""!==a(this).val()?a(".coil-paywall-body").text(a(this).val()):a(".coil-paywall-body").text(a(this).attr("placeholder"))}),a(document).on("focusout","#coil_paywall_button_text",function(){n(a("#coil_paywall_button_text"),!/^\s+$/.test(a(this).val()),x)}),a(document).on("input","#coil_paywall_button_text",function(){const t=a("#coil_paywall_button_text"),i=/^\s+$/,e=!i.test(a(this).val());s(t,e,!0,x),""===a(this).val()||i.test(a(this).val())?a(".coil-paywall-cta").text(a(this).attr("placeholder")):a(".coil-paywall-cta").text(a(this).val())}),a(document).on("focusout","#coil_paywall_button_link",function(){n(a("#coil_paywall_button_link"),r(a(this).val())||""===a(this).val(),y)}),a(document).on("input","#coil_paywall_button_link",function(){s(a("#coil_paywall_button_link"),!/^\s+$/.test(a(this).val()),!0,x)}),a(document).on("change",'input[name="coil_exclusive_settings_group[coil_message_color_theme]"]',function(){var t=a(this).val(),i=a("#coil_branding").val();let e="";a(".coil-paywall-container").attr("data-theme",t),"coil_logo"===i&&(e="light"===t?m:_,a(".coil-paywall-image").attr("src",e))}),a(document).on("change","#coil_branding",function(){"site_logo"===a("#coil_branding option:selected").val()?a(".set-site-logo-description").show():a(".set-site-logo-description").hide()}),a(document).on("change","#coil_branding",function(){var t=a(this).val(),i=a('input[name="coil_exclusive_settings_group[coil_message_color_theme]"]:checked').val();let e="";a(".coil-paywall-image").removeClass("no_logo site_logo coil_logo").addClass(t),"coil_logo"===t?e="light"===i?m:_:"site_logo"===t&&(e=g,""===e?a(".site_logo").hide():a(".site_logo").show()),a(".coil-paywall-image").attr("src",e)}),a(document).on("change",'input[name="coil_exclusive_settings_group[coil_title_padlock]"]',function(){a(this).closest(".coil-row").find(".coil-column-5").toggleClass("hidden")}),a(document).on("change",'input[name="coil_exclusive_settings_group[coil_padlock_icon_position]"]',function(){var t=a(this).val();a(".coil-title-preview-container").attr("data-padlock-icon-position",t)}),a(document).on("change",'input[name="coil_exclusive_settings_group[coil_padlock_icon_style]"]',function(){const t=a(this),i=a(".coil-title-preview-container .coil-padlock-icon"),e=t.siblings("svg").clone();i.html(e)}),a(document).on("input","#coil_content_container",function(){s(a("#coil_content_container"),!/^\s+$/.test(a(this).val()),!0,x)}),a(document).on("change",'input[name="streaming_widget_settings_group[streaming_widget_toggle]"]',function(){a(".streaming-widget-section").toggle()}),a(document).on("input","#streaming_widget_text",function(){var t="div.coil-preview.coil-non-members .streaming-widget div > div";""!==a(this).val()?/^\s+$/.test(a(this).val())?a(t).hide():(a(t).text(a(this).val()),a(t).show()):(a(t).text(a(this).attr("placeholder")),a(t).show())}),a(document).on("focusout","#streaming_widget_link",function(){n(a("#streaming_widget_link"),r(a(this).val())||""===a(this).val(),y)}),a(document).on("input","#streaming_widget_link",function(){s(a("#streaming_widget_link"),!/^\s+$/.test(a(this).val()),!0,x)}),a(document).on("input","#members_streaming_widget_text",function(){var t="div.coil-preview.coil-members .streaming-widget div > div";""!==a(this).val()?/^\s+$/.test(a(this).val())?a(t).hide():(a(t).text(a(this).val()),a(t).show()):(a(t).text(a(this).attr("placeholder")),a(t).show())}),a(document).on("change",'input[name="streaming_widget_settings_group[streaming_widget_color_theme]"]',function(){var t=a(this).val();let i="",e="";a(".coil-preview .streaming-widget").attr("data-theme",t),e="light"===t?(i=m,u):(i=_,d),a(".coil-preview.coil-non-members .streaming-widget-image").attr("src",i),a(".coil-preview.coil-members .streaming-widget-image").attr("src",e)}),a(document).on("change",'input[name="streaming_widget_settings_group[streaming_widget_member_display]"]',function(){a("div.coil-preview.coil-members").toggleClass("hide")}),a(document).on("change",'input[name="streaming_widget_settings_group[streaming_widget_size]"]',function(){var t=a(this).val();a(".coil-preview .streaming-widget").attr("data-size",t)}),a(document).on("change",'select[name="streaming_widget_settings_group[streaming_widget_position]"]',function(){const t=a(this).val(),i=t.split("-");a(".coil-preview .streaming-widget").attr("data-position",t),"top"===i[0]?(a(".margin-bottom").hide(),a(".margin-top").show()):(a(".margin-top").hide(),a(".margin-bottom").show()),"left"===i[1]?(a(".margin-right").hide(),a(".margin-left").show()):(a(".margin-left").hide(),a(".margin-right").show())}),a(document).on("input","#streaming_widget_top_margin",function(){c(a("#streaming_widget_top_margin"))}),a(document).on("focusout","#streaming_widget_top_margin",function(){o(a("#streaming_widget_top_margin"))}),a(document).on("input","#streaming_widget_bottom_margin",function(){c(a("#streaming_widget_bottom_margin"))}),a(document).on("focusout","#streaming_widget_bottom_margin",function(){o(a("#streaming_widget_bottom_margin"))}),a(document).on("input","#streaming_widget_right_margin",function(){c(a("#streaming_widget_right_margin"))}),a(document).on("focusout","#streaming_widget_right_margin",function(){o(a("#streaming_widget_right_margin"))}),a(document).on("input","#streaming_widget_left_margin",function(){c(a("#streaming_widget_left_margin"))}),a(document).on("focusout","#streaming_widget_left_margin",function(){o(a("#streaming_widget_left_margin"))})}}(jQuery);