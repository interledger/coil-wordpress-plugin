/*! Coil Web Monetization for WordPress v1.9.0 Wednesday 23rd March 2022 14:25:51 PM GMT+0200 */
!function(c){if("undefined"!=typeof coilAdminParams&&coilAdminParams.ajax_url){const r=coilAdminParams.site_logo_url,_=coilAdminParams.coil_logo_url.light,m=coilAdminParams.coil_logo_url.dark,p=coilAdminParams.coil_streaming_logo_url.light,d=coilAdminParams.coil_streaming_logo_url.dark,g=coilAdminParams.not_monetized_post_types,v=coilAdminParams.exclusive_post_types,h=coilAdminParams.general_modal_msg,b=coilAdminParams.exclusive_modal_msg,f=coilAdminParams.invalid_payment_pointer_msg,w=coilAdminParams.invalid_blank_input_msg,y=coilAdminParams.invalid_url_msg,x=coilAdminParams.invalid_margin_value_msg,k=coilAdminParams.coil_button_position,A=c(".nav-tab-wrapper a.nav-tab-active").attr("id"),P="#EE4852",$=c("form").serialize();let e=!1;var t,o;if("coil-welcome-settings"===A&&(0===c(".coil-welcome-notice").length?c(".tab-styling .button-primary").show():c(".tab-styling .button-primary").hide()),"coil-general-settings"===A){const C=c(".coil-no-payment-pointer-notice");0<C.length&&(C.hide(),0<c("#setting-error-settings_updated").length&&C.show())}if("coil-exclusive-settings"===A&&(t=c('input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]').is(":checked"),o="site_logo"===c("#coil_branding option:selected").val(),t?c("*.exclusive-content-section").show():c("*.exclusive-content-section").hide(),o?c(".set-site-logo-description").show():c(".set-site-logo-description").hide()),"coil-button-settings"===A){const z=c('input[name="coil_button_settings_group[coil_button_toggle]"]').is(":checked"),T=c("#coil_button_text"),E=c("#coil_members_button_text"),j=/^\s+$/,D=k.split("-");z?c("*.coil-button-section").show():c("*.coil-button-section").hide(),j.test(T.val())&&c("div.coil-preview.coil-non-members .coil-button div > div").hide(),j.test(E.val())&&c("div.coil-preview.coil-members .coil-button div > div").hide(),c(".margin-"+D[0]).show(),c(".margin-"+D[1]).show()}function i(t,o,i,n){let l="";o.forEach(t=>{document.getElementById(t+i).checked&&(l+=t+"s, ")}),0<l.length&&(l=l.slice(0,-2),l=l.replace(/,([^,]*)$/," and$1"),n=n.replace("{postTypes}",l),confirm(n)||"boolean"==typeof t.cancelable&&!t.cancelable||(t.preventDefault(),e=!1))}function n(o,t,i){const n=o.next(),l=c(document).scrollTop();let e=null;if(null!==n&&n.hasClass("invalid-input")&&(e=n),t)null!==e&&(o.removeAttr("style"),e.remove());else if(o.css("border-color",P),null===e){o.after('<p class="invalid-input" style="color: '+P+'">'+i+"</p>");o=o.prev().position();let t;t=void 0!==o?o.top:0,l>t?c("html, body").animate({scrollTop:t+"px"}):c("html, body").animate({scrollTop:"0px"})}}function l(o){const t=o.next().next(),i=c(document).scrollTop();var n=/(^(-)?[0-9]+((p)|(px)|(P)|(PX))?$)/.test(o.val())||""===o.val();let l=null;if(null!==t&&t.hasClass("invalid-input")&&(l=t),n)null!==l&&(o.removeAttr("style"),l.remove());else if(o.css("border-color",P),null===l){null!==o.next()&&o.next().after('<p class="invalid-input" style="color: '+P+'">'+x+"</p>");let t;null!==c(".coil-margin-input-group")&&null!==c(".coil-margin-input-group").prev()?void 0!==(o=c(".coil-margin-input-group").prev().position())&&(t=o.top):t=0,i>t?c("html, body").animate({scrollTop:t+"px"}):c("html, body").animate({scrollTop:"0px"})}}function a(t,o,i,n){const l=t.next();let e=null;null!==l&&l.hasClass("invalid-input")&&(e=l),null!==e&&o?(t.removeAttr("style"),e.remove()):i&&/^\s+$/.test(t.val())&&null===e&&(t.css("border-color",P),t.after('<p class="invalid-input" style="color: '+P+'">'+n+"</p>"))}function s(t){const o=t.next().next(),i=/^\s+$/,n=!i.test(t.val()),l=/(^(-)?[0-9]+((p)|(px)|(P)|(PX))?$)/.test(t.val())||""===t.val();let e=null;void 0!==o&&null!==o&&o.hasClass("invalid-input")&&(e=o),null!==e?(n&&e.text()===w||l&&e.text()===x)&&(t.removeAttr("style"),e.remove()):i.test(t.val())&&null===e&&null!==t.next()&&(t.css("border-color",P),t.next().after('<p class="invalid-input" style="color: '+P+'">'+w+"</p>"))}function u(t){let o;try{o=new URL(t)}catch(t){return!1}return"http:"===o.protocol||"https:"===o.protocol}window.addEventListener("beforeunload",function(t){e||$===c("form").serialize()?delete t.returnValue:(t.preventDefault(),t.returnValue="")}),c(document).on("submit","form",function(){e=!0,"coil-exclusive-settings"===A?i(event,g,"_visibility_exclusive",b):"coil-general-settings"===A&&i(event,v,"_monetization_not-monetized",h)}),c(document).on("focusout","#coil_payment_pointer",function(){n(c("#coil_payment_pointer"),/^(https:\/\/.)|^[\$]./.test(c(this).val()),f)}),c(document).on("input","#coil_payment_pointer",function(){a(c("#coil_payment_pointer"),/^(https:\/\/.)|^[\$]./.test(c(this).val()),!1,"")}),c(document).on("change",'input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]',function(){c(".exclusive-content-section").toggle()}),c(document).on("input","#coil_paywall_title",function(){""!==c(this).val()?c(".coil-paywall-heading").text(c(this).val()):c(".coil-paywall-heading").text(c(this).attr("placeholder"))}),c(document).on("input","#coil_paywall_message",function(){""!==c(this).val()?c(".coil-paywall-body").text(c(this).val()):c(".coil-paywall-body").text(c(this).attr("placeholder"))}),c(document).on("focusout","#coil_paywall_button_text",function(){n(c("#coil_paywall_button_text"),!/^\s+$/.test(c(this).val()),w)}),c(document).on("input","#coil_paywall_button_text",function(){const t=c("#coil_paywall_button_text"),o=/^\s+$/,i=!o.test(c(this).val());a(t,i,!0,w),""===c(this).val()||o.test(c(this).val())?c(".coil-paywall-cta").text(c(this).attr("placeholder")):c(".coil-paywall-cta").text(c(this).val())}),c(document).on("focusout","#coil_paywall_button_link",function(){n(c("#coil_paywall_button_link"),u(c(this).val())||""===c(this).val(),y)}),c(document).on("input","#coil_paywall_button_link",function(){a(c("#coil_paywall_button_link"),!/^\s+$/.test(c(this).val()),!0,w)}),c(document).on("change",'input[name="coil_exclusive_settings_group[coil_message_color_theme]"]',function(){var t=c(this).val(),o=c("#coil_branding").val();let i="";c(".coil-paywall-container").attr("data-theme",t),"coil_logo"===o&&(i="light"===t?_:m,c(".coil-paywall-image").attr("src",i))}),c(document).on("change","#coil_branding",function(){"site_logo"===c("#coil_branding option:selected").val()?c(".set-site-logo-description").show():c(".set-site-logo-description").hide()}),c(document).on("change","#coil_branding",function(){var t=c(this).val(),o=c('input[name="coil_exclusive_settings_group[coil_message_color_theme]"]:checked').val();let i="";c(".coil-paywall-image").removeClass("no_logo site_logo coil_logo").addClass(t),"coil_logo"===t?i="light"===o?_:m:"site_logo"===t&&(i=r,""===i?c(".site_logo").hide():c(".site_logo").show()),c(".coil-paywall-image").attr("src",i)}),c(document).on("change",'input[name="coil_exclusive_settings_group[coil_title_padlock]"]',function(){c(this).closest(".coil-row").find(".coil-column-5").toggleClass("hidden")}),c(document).on("change",'input[name="coil_exclusive_settings_group[coil_padlock_icon_position]"]',function(){var t=c(this).val();c(".coil-title-preview-container").attr("data-padlock-icon-position",t)}),c(document).on("change",'input[name="coil_exclusive_settings_group[coil_padlock_icon_style]"]',function(){const t=c(this),o=c(".coil-title-preview-container .coil-padlock-icon"),i=t.siblings("svg").clone();o.html(i)}),c(document).on("input","#coil_content_container",function(){a(c("#coil_content_container"),!/^\s+$/.test(c(this).val()),!0,w)}),c(document).on("change",'input[name="coil_button_settings_group[coil_button_toggle]"]',function(){c(".coil-button-section").toggle()}),c(document).on("input","#coil_button_text",function(){var t="div.coil-preview.coil-non-members .coil-button div > div";""!==c(this).val()?/^\s+$/.test(c(this).val())?c(t).hide():(c(t).text(c(this).val()),c(t).show()):(c(t).text(c(this).attr("placeholder")),c(t).show())}),c(document).on("focusout","#coil_button_link",function(){n(c("#coil_button_link"),u(c(this).val())||""===c(this).val(),y)}),c(document).on("input","#coil_button_link",function(){a(c("#coil_button_link"),!/^\s+$/.test(c(this).val()),!0,w)}),c(document).on("input","#coil_members_button_text",function(){var t="div.coil-preview.coil-members .coil-button div > div";""!==c(this).val()?/^\s+$/.test(c(this).val())?c(t).hide():(c(t).text(c(this).val()),c(t).show()):(c(t).text(c(this).attr("placeholder")),c(t).show())}),c(document).on("change",'input[name="coil_button_settings_group[coil_button_color_theme]"]',function(){var t=c(this).val();let o="",i="";c(".coil-preview .coil-button").attr("data-theme",t),i="light"===t?(o=_,p):(o=m,d),c(".coil-preview.coil-non-members .coil-button-image").attr("src",o),c(".coil-preview.coil-members .coil-button-image").attr("src",i)}),c(document).on("change",'input[name="coil_button_settings_group[coil_button_member_display]"]',function(){c("div.coil-preview.coil-members").toggleClass("hide")}),c(document).on("change",'input[name="coil_button_settings_group[coil_button_size]"]',function(){var t=c(this).val();c(".coil-preview .coil-button").attr("data-size",t)}),c(document).on("change",'select[name="coil_button_settings_group[coil_button_position]"]',function(){const t=c(this).val(),o=t.split("-");c(".coil-preview .coil-button").attr("data-position",t),"top"===o[0]?(c(".margin-bottom").hide(),c(".margin-top").show()):(c(".margin-top").hide(),c(".margin-bottom").show()),"left"===o[1]?(c(".margin-right").hide(),c(".margin-left").show()):(c(".margin-left").hide(),c(".margin-right").show())}),c(document).on("input","#coil_button_top_margin",function(){s(c("#coil_button_top_margin"))}),c(document).on("focusout","#coil_button_top_margin",function(){l(c("#coil_button_top_margin"))}),c(document).on("input","#coil_button_bottom_margin",function(){s(c("#coil_button_bottom_margin"))}),c(document).on("focusout","#coil_button_bottom_margin",function(){l(c("#coil_button_bottom_margin"))}),c(document).on("input","#coil_button_right_margin",function(){s(c("#coil_button_right_margin"))}),c(document).on("focusout","#coil_button_right_margin",function(){l(c("#coil_button_right_margin"))}),c(document).on("input","#coil_button_left_margin",function(){s(c("#coil_button_left_margin"))}),c(document).on("focusout","#coil_button_left_margin",function(){l(c("#coil_button_left_margin"))})}}(jQuery);