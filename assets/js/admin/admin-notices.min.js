/*! Coil Web Monetization for WordPress v1.9.0 Tuesday 22nd March 2022 14:59:43 PM GMT+0200 */
!function(c){if("undefined"!=typeof coilAdminParams&&coilAdminParams.ajax_url){const a=coilAdminParams.site_logo_url,u=coilAdminParams.coil_logo_url.light,_=coilAdminParams.coil_logo_url.dark,r=coilAdminParams.coil_streaming_logo_url.light,m=coilAdminParams.coil_streaming_logo_url.dark,p=coilAdminParams.not_monetized_post_types,d=coilAdminParams.exclusive_post_types,g=coilAdminParams.general_modal_msg,v=coilAdminParams.exclusive_modal_msg,h=coilAdminParams.invalid_payment_pointer_msg,b=coilAdminParams.invalid_blank_input_msg,f=coilAdminParams.invalid_url_msg,w=c(".nav-tab-wrapper a.nav-tab-active").attr("id"),y="#EE4852",x=c("form").serialize();let l=!1;var t,o;if("coil-welcome-settings"===w&&(0===c(".coil-welcome-notice").length?c(".tab-styling .button-primary").show():c(".tab-styling .button-primary").hide()),"coil-general-settings"===w){const k=c(".coil-no-payment-pointer-notice");0<k.length&&(k.hide(),0<c("#setting-error-settings_updated").length&&k.show())}if("coil-exclusive-settings"===w&&(t=c('input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]').is(":checked"),o="site_logo"===c("#coil_branding option:selected").val(),t?c("*.exclusive-content-section").show():c("*.exclusive-content-section").hide(),o?c(".set-site-logo-description").show():c(".set-site-logo-description").hide()),"coil-button-settings"===w){const A=c('input[name="coil_button_settings_group[coil_button_toggle]"]').is(":checked"),P=c("#coil_button_text"),$=c("#coil_members_button_text"),z=/^\s+$/;A?c("*.coil-button-section").show():c("*.coil-button-section").hide(),z.test(P.val())&&c("div.coil-preview.coil-non-members .coil-button div > div").hide(),z.test($.val())&&c("div.coil-preview.coil-members .coil-button div > div").hide()}function i(t,o,i,e){let n="";o.forEach(t=>{document.getElementById(t+i).checked&&(n+=t+"s, ")}),0<n.length&&(n=n.slice(0,-2),n=n.replace(/,([^,]*)$/," and$1"),e=e.replace("{postTypes}",n),confirm(e)||"boolean"==typeof t.cancelable&&!t.cancelable||(t.preventDefault(),l=!1))}function e(o,t,i){const e=o.next();let n=null;if(null!==e&&e.hasClass("invalid-input")&&(n=e),t)null!==n&&(o.removeAttr("style"),n.remove());else if(o.css("border-color",y),null===n){o.after('<p class="invalid-input" style="color: '+y+'">'+i+"</p>");o=o.prev().position();let t;t=void 0!==o?o.top:0,c("html, body").animate({scrollTop:t+"px"})}}function n(t,o,i,e){const n=t.next();let l=null;null!==n&&n.hasClass("invalid-input")&&(l=n),null!==l&&o?(t.removeAttr("style"),l.remove()):i&&/^\s+$/.test(t.val())&&null===l&&(t.css("border-color",y),t.after('<p class="invalid-input" style="color: '+y+'">'+e+"</p>"))}function s(t){let o;try{o=new URL(t)}catch(t){return!1}return"http:"===o.protocol||"https:"===o.protocol}window.addEventListener("beforeunload",function(t){l||x===c("form").serialize()?delete t.returnValue:(t.preventDefault(),t.returnValue="")}),c(document).on("submit","form",function(){l=!0,"coil-exclusive-settings"===w?i(event,p,"_visibility_exclusive",v):"coil-general-settings"===w&&i(event,d,"_monetization_not-monetized",g)}),c(document).on("focusout","#coil_payment_pointer",function(){e(c("#coil_payment_pointer"),/^(https:\/\/.)|^[\$]./.test(c(this).val()),h)}),c(document).on("input","#coil_payment_pointer",function(){n(c("#coil_payment_pointer"),/^(https:\/\/.)|^[\$]./.test(c(this).val()),!1,"")}),c(document).on("change",'input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]',function(){c(".exclusive-content-section").toggle()}),c(document).on("input","#coil_paywall_title",function(){""!==c(this).val()?c(".coil-paywall-heading").text(c(this).val()):c(".coil-paywall-heading").text(c(this).attr("placeholder"))}),c(document).on("input","#coil_paywall_message",function(){""!==c(this).val()?c(".coil-paywall-body").text(c(this).val()):c(".coil-paywall-body").text(c(this).attr("placeholder"))}),c(document).on("focusout","#coil_paywall_button_text",function(){e(c("#coil_paywall_button_text"),!/^\s+$/.test(c(this).val()),b)}),c(document).on("input","#coil_paywall_button_text",function(){const t=c("#coil_paywall_button_text"),o=/^\s+$/,i=!o.test(c(this).val());n(t,i,!0,b),""===c(this).val()||o.test(c(this).val())?c(".coil-paywall-cta").text(c(this).attr("placeholder")):c(".coil-paywall-cta").text(c(this).val())}),c(document).on("focusout","#coil_paywall_button_link",function(){e(c("#coil_paywall_button_link"),s(c(this).val())||""===c(this).val(),f)}),c(document).on("input","#coil_paywall_button_link",function(){n(c("#coil_paywall_button_link"),!/^\s+$/.test(c(this).val()),!0,b)}),c(document).on("change",'input[name="coil_exclusive_settings_group[coil_message_color_theme]"]',function(){var t=c(this).val(),o=c("#coil_branding").val();let i="";c(".coil-paywall-container").attr("data-theme",t),"coil_logo"===o&&(i="light"===t?u:_,c(".coil-paywall-image").attr("src",i))}),c(document).on("change","#coil_branding",function(){"site_logo"===c("#coil_branding option:selected").val()?c(".set-site-logo-description").show():c(".set-site-logo-description").hide()}),c(document).on("change","#coil_branding",function(){var t=c(this).val(),o=c('input[name="coil_exclusive_settings_group[coil_message_color_theme]"]:checked').val();let i="";c(".coil-paywall-image").removeClass("no_logo site_logo coil_logo").addClass(t),"coil_logo"===t?i="light"===o?u:_:"site_logo"===t&&(i=a,""===i?c(".site_logo").hide():c(".site_logo").show()),c(".coil-paywall-image").attr("src",i)}),c(document).on("change",'input[name="coil_exclusive_settings_group[coil_title_padlock]"]',function(){c(this).closest(".coil-row").find(".coil-column-5").toggleClass("hidden")}),c(document).on("change",'input[name="coil_exclusive_settings_group[coil_padlock_icon_position]"]',function(){var t=c(this).val();c(".coil-title-preview-container").attr("data-padlock-icon-position",t)}),c(document).on("change",'input[name="coil_exclusive_settings_group[coil_padlock_icon_style]"]',function(){const t=c(this),o=c(".coil-title-preview-container .coil-padlock-icon"),i=t.siblings("svg").clone();o.html(i)}),c(document).on("input","#coil_content_container",function(){n(c("#coil_content_container"),!/^\s+$/.test(c(this).val()),!0,b)}),c(document).on("change",'input[name="coil_button_settings_group[coil_button_toggle]"]',function(){c(".coil-button-section").toggle()}),c(document).on("input","#coil_button_text",function(){var t="div.coil-preview.coil-non-members .coil-button div > div";""!==c(this).val()?/^\s+$/.test(c(this).val())?c(t).hide():(c(t).text(c(this).val()),c(t).show()):(c(t).text(c(this).attr("placeholder")),c(t).show())}),c(document).on("focusout","#coil_button_link",function(){e(c("#coil_button_link"),s(c(this).val())||""===c(this).val(),f)}),c(document).on("input","#coil_button_link",function(){n(c("#coil_button_link"),!/^\s+$/.test(c(this).val()),!0,b)}),c(document).on("input","#coil_members_button_text",function(){var t="div.coil-preview.coil-members .coil-button div > div";""!==c(this).val()?/^\s+$/.test(c(this).val())?c(t).hide():(c(t).text(c(this).val()),c(t).show()):(c(t).text(c(this).attr("placeholder")),c(t).show())}),c(document).on("change",'input[name="coil_button_settings_group[coil_button_color_theme]"]',function(){var t=c(this).val();let o="",i="";c(".coil-preview .coil-button").attr("data-theme",t),i="light"===t?(o=u,r):(o=_,m),c(".coil-preview.coil-non-members .coil-button-image").attr("src",o),c(".coil-preview.coil-members .coil-button-image").attr("src",i)}),c(document).on("change",'input[name="coil_button_settings_group[coil_button_member_display]"]',function(){c("div.coil-preview.coil-members").toggleClass("hide")}),c(document).on("change",'input[name="coil_button_settings_group[coil_button_size]"]',function(){var t=c(this).val();c(".coil-preview .coil-button").attr("data-size",t)}),c(document).on("change",'select[name="coil_button_settings_group[coil_button_position]"]',function(){var t=c(this).val();c(".coil-preview .coil-button").attr("data-position",t)})}}(jQuery);