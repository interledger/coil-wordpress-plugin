/*! Coil Web Monetization for WordPress v1.9.0 Wednesday 9th February 2022 13:17:10 PM GMT+0200 */
!function(l){if("undefined"!=typeof coilAdminParams&&coilAdminParams.ajax_url){const i=coilAdminParams.ajax_url,o=coilAdminParams.site_logo_url,a=coilAdminParams.coil_logo_url.light,c=coilAdminParams.coil_logo_url.dark,t=coilAdminParams.not_monetized_post_types,s=coilAdminParams.exclusive_post_types,r=coilAdminParams.general_modal_msg,u=coilAdminParams.exclusive_modal_msg,_=l(".nav-tab-wrapper a.nav-tab-active").attr("id"),m=l("form").serialize();let n=!1;if("coil-welcome-settings"===_){const g=l(".coil-welcome-notice .notice-dismiss");if(!g)return;g.on("click",function(){l.ajax({url:i,type:"POST",data:{action:"dismiss_welcome_notice"}})})}if("coil-exclusive-settings"===_&&(l('input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]').is(":checked")?l("*.exclusive-content").show():l("*.exclusive-content").hide()),"coil-general-settings"===_){const d=l(".coil-no-payment-pointer-notice");0<d.length&&(d.hide(),0<l("#setting-error-settings_updated").length&&d.show())}function e(e,i,t,l){let o="";i.forEach(e=>{document.getElementById(e+t).checked&&(o+=e+"s, ")}),0<o.length&&(o=o.slice(0,-2),o=o.replace(/,([^,]*)$/," and$1"),l=l.replace("{postTypes}",o),confirm(l)||"boolean"==typeof e.cancelable&&!e.cancelable||(e.preventDefault(),n=!1))}l(document).on("submit","form",function(){n=!0,"coil-exclusive-settings"===_?e(event,t,"_visibility_exclusive",u):"coil-general-settings"===_&&e(event,s,"_monetization_not-monetized",r)}),l(document).on("change",'input[name="coil_exclusive_settings_group[coil_exclusive_toggle]"]',function(){l(".exclusive-content").toggle()}),l(document).on("keyup","#coil_paywall_title",function(){""!==l(this).val()?l(".coil-paywall-heading").text(l(this).val()):l(".coil-paywall-heading").text(l(this).attr("placeholder"))}),l(document).on("keyup","#coil_paywall_message",function(){""!==l(this).val()?l(".coil-paywall-body").text(l(this).val()):l(".coil-paywall-body").text(l(this).attr("placeholder"))}),l(document).on("keyup","#coil_paywall_button_text",function(){""!==l(this).val()?l(".coil-paywall-cta").text(l(this).val()):l(".coil-paywall-cta").text(l(this).attr("placeholder"))}),l(document).on("change",'input[name="coil_exclusive_settings_group[coil_message_color_theme]"]',function(){var e=l(this).val(),i=l("#coil_branding").val();let t="";l(".coil-paywall-container").attr("data-theme",e),"coil_logo"===i&&(t="light"===e?a:c,l(".coil-paywall-image").attr("src",t))}),l(document).on("change","#coil_branding",function(){var e=l(this).val(),i=l('input[name="coil_exclusive_settings_group[coil_message_color_theme]"]:checked').val();let t="";l(".coil-paywall-image").removeClass("no_logo site_logo coil_logo").addClass(e),"coil_logo"===e?t="light"===i?a:c:"site_logo"===e&&(t=o),l(".coil-paywall-image").attr("src",t)}),l(document).on("change",'input[name="coil_exclusive_settings_group[coil_padlock_icon_style]"]',function(){const e=l(this),i=l(".coil-title-preview-container .coil-padlock-icon"),t=e.siblings("svg").clone();i.html(t)}),window.addEventListener("beforeunload",function(e){n||m===l("form").serialize()?delete e.returnValue:(e.preventDefault(),e.returnValue="")})}}(jQuery);